# -------- System Setup --------
sudo apt update
sudo apt install -y python3-full
sudo apt install -y python3-venv
sudo apt install -y awscli


# -------- Virtual Environment --------
python3 -m venv venv
source venv/bin/activate

# -------- Python Dependencies --------
pip install sh

# -------- Verify AWS CLI --------
aws --version

# -------- Example Script Execution --------
python ec2_operations.py \
  --key_id YOUR_AWS_ACCESS_KEY_ID \
  --access_key YOUR_AWS_SECRET_ACCESS_KEY \
  --region ap-south-1 \
  --operation stop \
  --instance_id i-0123456789abcdef0

# -------- Supported Operations --------
start
stop
reboot
terminate


#Usage 
Example :

python ec2_operations.py \
  --key_id YOUR_ACCESS_KEY \
  --access_key YOUR_SECRET_KEY \
  --region ap-south-1 \
  --operation start \
  --instance_id i-012abcdef0  i-987699789abcdef0

#output
[
    {
        "InstanceId": "i-0123456789abcdef0",
        "Name": "web-server",
        "State": "running",
        "Private IP": "10.0.1.15",
        "Public IP": "13.232.45.10"
    }
]
